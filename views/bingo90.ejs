<%- include('header90'); %> 
<script src="/socket.io/socket.io.js"></script>
    <!-- Page Content -->
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <!-- <div class="row">
                    <div class="col-sm-6">
                        <div class="list-group">
                            <a href="#" class="list-group-item">Player 1</a>
                            <a href="#" class="list-group-item">Player 2</a>
                            <a href="#" class="list-group-item">Player 3</a>
                        </div>
                    <div>
                    <div class="col-sm-6">
                        <div class="list-group">
                            <a href="#" class="list-group-item">Player 1</a>
                            <a href="#" class="list-group-item">Player 2</a>
                            <a href="#" class="list-group-item">Player 3</a>
                        </div>
                    <div>
                </div> -->
                <div class="card90" style="border: 2px solid #c00;">
                    <table class="table90 pattern" >
                        <tr>
                            <td style="border: 2px solid #ff5a01;vertical-align: top;"><a style="margin-left: -0.8rem;" class="btn btn-orange"><i class="fa fa-users left"></i> Players</a>
                            <ul id="users_in_room" class="nav nav-pills nav-stacked" style="max-height: 120px;overflow-y: scroll;width:150px">
                              <!-- <li class="active"><a href="#">Robert</a></li>
                              <li class="active"><a href="#">John</a></li>
                              <li class="active"><a href="#">Lidia</a></li>
                              <li class="active"><a href="#">Misha</a></li>
                              <li class="active"><a href="#">Deepak</a></li>
                              <li class="active"><a href="#">Deepak</a></li>
                              <li class="active"><a href="#">Sarah</a></li>
                              <li class="active"><a href="#">Rosy</a></li> -->
                            </ul>
                  
                        </td>
                            <td style="border: 2px solid blue;">
                            <a class="btn btn-indigo"><i class="fa fa-gift left"></i> Prize</a>
                            <div class="clearfix"></div>
                            <span class="label label-warning">Line 1: &euro;5</span>
                            <span class="label label-info">Line 2: &euro;10</span>
                            <span class="label label-success">Full Card <span class="badge">&euro;25</span></span>
                                <!-- <ul class="nav nav-pills nav-stacked" style="    padding: 1rem; max-height:60px;overflow-y: scroll;">
                              <li class="active"><a href="#">Full Card: $10</a></li>
                                                       
                            </ul> -->
                            <hr class="hr" style="margin:10px;">
                            <a class="btn btn-pink"><i class="fa fa-star left"></i> Winners</a>
                            <div class="clearfix"></div>
                            <span class="label label-warning">Peter</span>
                            <span class="label label-info">John</span>
                            <span class="label label-success">Ravi</span>
                            <!-- <ul class="nav nav-pills nav-stacked" style="    padding: 1rem; max-height: 60px;overflow-y: scroll;">
                                  <li class="active"><a href="#">Peter</a></li>
                                  <li class="active"><a href="#">Robert</a></li>
                                  <li class="active"><a href="#">John</a></li>
                               </ul> -->
                            </td>
                        </tr>
                    </table> 
                    
                </div>
                <div class="clearfix"></div>
                <div id="chat_box" class="card90" style="height: 225px;">
                    <a class="btn btn-indigo" style="width: 95%;">
                    <i class="fa fa-wechat left"> </i> Chat Box</a>
                    <ul id="messages" style="padding: 0.5rem;overflow-y:scroll;max-height: 180px">
                    </ul>
                    <div class="chat-form" style="position: absolute;bottom: 0;"><input type="text" id="message" name="message" style="width: 65%;margin-right: 0.25rem;border: 1px solid #ddd;">
                    <a class="btn btn-indigo pull-right" id="send_msg_btn">
                    <i class="fa fa-send left"></i> Send</a>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="row table90-container">
                    <%  
                        if(Bingo.cards > 0){
                        for(var i=0; i < Bingo.cards; i++) { 
                        var newNum = Math.floor(Math.random() * 75) + 1;
                        var nm;
                        if(i<37 && i>=30){
                            nm = 36;
                        } else if(i<30 && i>=24) {
                            nm = 30;
                        } else if(i<24 && i>=18) {
                            nm = 24;
                        }else if(i<18 && i>=12) {
                            nm = 18;
                        }else if(i<12 && i>=6) {
                            nm = 12;
                        }else{
                            nm = 6;
                        }
                    %>
                    <div class="col-md-6 card-nm<%= nm %>">
                    <div class="card90">
                    <table class="table90 pattern" id="card_<%= i %>">

                        <tr>
                            <td id="card_<%= i %>_square0">&nbsp;</td>
                            <td id="card_<%= i %>_square1">&nbsp;</td>
                            <td id="card_<%= i %>_square2">&nbsp;</td>
                            <td id="card_<%= i %>_square3">&nbsp;</td>
                            <td id="card_<%= i %>_square4">&nbsp;</td>
                            <td id="card_<%= i %>_square5">&nbsp;</td>
                            <td id="card_<%= i %>_square6">&nbsp;</td>
                            <td id="card_<%= i %>_square7">&nbsp;</td>
                            <td id="card_<%= i %>_square8">&nbsp;</td>
                        </tr>
                        <tr>
                            <td id="card_<%= i %>_square10">&nbsp;</td>
                            <td id="card_<%= i %>_square11">&nbsp;</td>
                            <td id="card_<%= i %>_square12">&nbsp;</td>
                            <td id="card_<%= i %>_square13">&nbsp;</td>
                            <td id="card_<%= i %>_square14">&nbsp;</td>
                            <td id="card_<%= i %>_square15">&nbsp;</td>
                            <td id="card_<%= i %>_square16">&nbsp;</td>
                            <td id="card_<%= i %>_square17">&nbsp;</td>
                            <td id="card_<%= i %>_square18">&nbsp;</td>
                        </tr>
                        <tr>
                            <td id="card_<%= i %>_square20">&nbsp;</td>
                            <td id="card_<%= i %>_square21">&nbsp;</td>
                            <td id="card_<%= i %>_square22">&nbsp;</td>
                            <td id="card_<%= i %>_square23">&nbsp;</td>
                            <td id="card_<%= i %>_square24">&nbsp;</td>
                            <td id="card_<%= i %>_square25">&nbsp;</td>
                            <td id="card_<%= i %>_square26">&nbsp;</td>
                            <td id="card_<%= i %>_square27">&nbsp;</td>
                            <td id="card_<%= i %>_square28">&nbsp;</td>
                        </tr>

                    </table>
                    </div>
                    </div>
                    <%      } 
                        } else {
                        for(var i=1; i < 37; i++) {
                        var nm;
                        if(i<37 && i>30){
                            nm = 36;
                        } else if(i<31 && i>24) {
                            nm = 30;
                        } else if(i<25 && i>18) {
                            nm = 24;
                        }else if(i<19 && i>12) {
                            nm = 18;
                        }else if(i<13 && i>6) {
                            nm = 12;
                        }else{
                            nm = 6;
                        }
                    %>
<div class="col-md-6 card-nm<%= nm %>"><div class="card90" style="height: 72px;text-align: center;"><h3>Card <%= i %></h3></div></div>
                    <%  }    } %>
                    <div class="clearfix"></div>
                    <div class="book-btn">
                        <a id="book1" class="btn btn-brown"><i class="fa fa-book left"></i> Book 1</a>
                        <a id="book2" class="btn btn-brown"><i class="fa fa-book left"></i> Book 2</a>
                        <a id="book3" class="btn btn-brown"><i class="fa fa-book left"></i> Book 3</a>
                        <a id="book4" class="btn btn-brown"><i class="fa fa-book left"></i> Book 4</a>
                        <a id="book5" class="btn btn-brown"><i class="fa fa-book left"></i> Book 5</a>
                        <a id="book6" class="btn btn-brown"><i class="fa fa-book left"></i> Book 6</a>
                    </div>
                </div>
            </div>




        </div>
        <!--chat row-->
        <div class="row">
            <div class="col-md-9">
                <!-- <div id="rolling_ball" class="card90 ball-container">

                </div> -->
                <!-- <div class="card90 text-center">
                    <h4>Rooms: Choose cards and click on Play to enter the room. </h4>
                    <select name="cards" id="cards" style="width:100px;margin: 0 auto;" class="form-control">
                            <%  for(var j=1; j < 21; j++) {   %>
                            <option value="<%= j %>"><%= j %></option>
                            <%  }  %>
                    </select>
                </div>
                <div class="card90-old">
                    <% if(Bingo.rooms.length > 0){ 
                        for(i=0;i<Bingo.rooms.length;i++){
                    %>
                    <div class="row room">
                        <div class="col-md-4 room-name">
                            <h5>Room : <%= Bingo.rooms[i].name %></h5></div>
                        <div class="col-md-4 room-desc">
                            <%= Bingo.rooms[i].description %>
                        </div>
                        <div class="col-md-2 room-name">
                            
                        </div>
                        <div class="col-md-2">
                            <a title="<%= Bingo.rooms[i]._id %>" class="play90 btn btn-primary pull-right">Play</a>
                        </div>
                    </div>
                    <% }  %>
                </div>
                
                <% } else { %>
                <div class="card90" style="height: 360px;">
                    <h1>Chat Container</h1>
                </div>
                <% } %> -->
            </div>
            <div class="col-md-3">
                <!-- <div class="card90">
                    <table class="table90-ball-counter" >
                        <tr>
                            <td width="100%" colspan="5" class="counter-ball-th">
                                <b>Balls (<span id="counter_ball">0</span>)</b>
                            </td>

                        </tr>
                        <tr>
                            <td id="counter_ball_1">1</td>
                            <td id="counter_ball_2">2</td>
                            <td id="counter_ball_3">3</td>
                            <td id="counter_ball_4">4</td>
                            <td id="counter_ball_5">5</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_6">6</td>
                            <td id="counter_ball_7">7</td>
                            <td id="counter_ball_8">8</td>
                            <td id="counter_ball_9">9</td>
                            <td id="counter_ball_10">10</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_11">11</td>
                            <td id="counter_ball_12">12</td>
                            <td id="counter_ball_13">13</td>
                            <td id="counter_ball_14">14</td>
                            <td id="counter_ball_15">15</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_16">16</td>
                            <td id="counter_ball_17">17</td>
                            <td id="counter_ball_18">18</td>
                            <td id="counter_ball_19">19</td>
                            <td id="counter_ball_20">20</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_21">21</td>
                            <td id="counter_ball_22">22</td>
                            <td id="counter_ball_23">23</td>
                            <td id="counter_ball_24">24</td>
                            <td id="counter_ball_25">25</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_26">26</td>
                            <td id="counter_ball_27">27</td>
                            <td id="counter_ball_28">28</td>
                            <td id="counter_ball_29">29</td>
                            <td id="counter_ball_30">30</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_31">31</td>
                            <td id="counter_ball_32">32</td>
                            <td id="counter_ball_33">33</td>
                            <td id="counter_ball_34">34</td>
                            <td id="counter_ball_35">35</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_36">36</td>
                            <td id="counter_ball_37">37</td>
                            <td id="counter_ball_38">38</td>
                            <td id="counter_ball_39">39</td>
                            <td id="counter_ball_40">40</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_41">41</td>
                            <td id="counter_ball_42">42</td>
                            <td id="counter_ball_43">43</td>
                            <td id="counter_ball_44">44</td>
                            <td id="counter_ball_45">45</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_46">46</td>
                            <td id="counter_ball_47">47</td>
                            <td id="counter_ball_48">48</td>
                            <td id="counter_ball_49">49</td>
                            <td id="counter_ball_50">50</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_51">51</td>
                            <td id="counter_ball_52">52</td>
                            <td id="counter_ball_53">53</td>
                            <td id="counter_ball_54">54</td>
                            <td id="counter_ball_55">55</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_56">56</td>
                            <td id="counter_ball_57">57</td>
                            <td id="counter_ball_58">58</td>
                            <td id="counter_ball_59">59</td>
                            <td id="counter_ball_60">60</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_61">61</td>
                            <td id="counter_ball_62">62</td>
                            <td id="counter_ball_63">63</td>
                            <td id="counter_ball_64">64</td>
                            <td id="counter_ball_65">65</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_66">66</td>
                            <td id="counter_ball_67">67</td>
                            <td id="counter_ball_68">68</td>
                            <td id="counter_ball_69">69</td>
                            <td id="counter_ball_70">70</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_71">71</td>
                            <td id="counter_ball_72">72</td>
                            <td id="counter_ball_73">73</td>
                            <td id="counter_ball_74">74</td>
                            <td id="counter_ball_75">75</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_76">76</td>
                            <td id="counter_ball_77">77</td>
                            <td id="counter_ball_78">78</td>
                            <td id="counter_ball_79">79</td>
                            <td id="counter_ball_80">80</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_81">81</td>
                            <td id="counter_ball_82">82</td>
                            <td id="counter_ball_83">83</td>
                            <td id="counter_ball_84">84</td>
                            <td id="counter_ball_85">85</td>
                        </tr>
                        <tr>
                            <td id="counter_ball_86">86</td>
                            <td id="counter_ball_87">87</td>
                            <td id="counter_ball_88">88</td>
                            <td id="counter_ball_89">89</td>
                            <td id="counter_ball_90">90</td>
                        </tr>
                    </table>
                </div> -->
            </div>
        </div>

    </div>
    <!-- /.container -->

<%- include('footer90'); %>
<script>
var socket = io();
$('#send_msg_btn').hide();
$('#message').hide();
var data = {};
<% if(Bingo.user_room && (Bingo.cards > 0)){ %>
    console.log('here90')
    data.user = "<%= Bingo.user %>";
    data.user_room = "<%= Bingo.user_room %>";
        console.log(data);
        socket.emit('get user list', data);
    $('#send_msg_btn').show();
    $('#message').show();   
  
    $('#send_msg_btn').on('click', function(){
        
        var message = $('#message').val();
        data.message = message;
        socket.emit('send message', data);
        $('#message').val('');
        return false;
    });
    socket.on('show message', function(data){
        $('#messages').append($('<li>').html('<b>'+data.user+'</b>: '+data.message));
        $("#messages").animate({
          "scrollTop": $('#messages')[0].scrollHeight
        }, "fast");
        //user list
        
    });
    socket.on('show user list', function(users){ 
        console.log(users);
        var user_list = '';
        for(i=0;i<users.length;i++){
            user_list += '<li class="active"><a href="#">'+users[i]+'</a></li>';
        }
        if(user_list){
            $('#users_in_room').html(user_list);
        }
    });
<% } %>
</script>
<script type="text/javascript">
$( document ).ready(function() {
    $('.play90').on('click', function(e){ 
        
        //return;
        var room = e.target.title;
        var card = $('#cards').val(); //alert(card);
        window.location = '/bingo90?cards='+card+'&room='+room;
    })
    <% if(Bingo.cards > 0){ %>
        console.log('<%= Bingo.sayHello %>');
        var num = <%= Bingo.cards %>;
        $('#btn_tick').attr('disabled','disabled');

        var pattern = 'none';
        var selected_pattern = pattern[Math.floor(Math.random()*pattern.length)];
        //bingo90 = new Bingo90(num, selected_pattern);
        bingo90 = new Bingo90(num, 'none');
        bingo90.newCard();
        //bingo90.createCards();
        bingo90.user_room = '<%= Bingo.user_room %>';
        var winnerLine1Shown = 0;
        var winnerLine2Shown = 0;
        var winnerLine3Shown = 0;
        /*var array90 = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,
                       21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,
                       41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,
                       61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,
                       81,82,83,84,85,86,87,88,89,90];
        var cnt = 0;
        var winnerLine1Shown = 0;
        var winnerLine2Shown = 0;
        var stopCounter = setInterval(function(){ 
            cnt++;
            var bingoballHTML = '<div class="bingoball'+cnt+'"><h3 class="ball_num'+cnt+'"></h3>                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 206.2 206.2">                          <defs>                            <style>                              .ball{isolation:isolate;}.ballcolor{fill:grey;}.cls-3{opacity:0.48;fill:url(#linear-gradient);}.cls-3,.cls-6{mix-blend-mode:screen;}.cls-4{fill:none;stroke:#fff;stroke-miterlimit:10;stroke-width:4px;}.cls-5{fill:#fff;opacity:0.8;}.cls-6{fill:url(#radial-gradient);}                            </style>                            <linearGradient id="linear-gradient" x1="103.1" x2="103.1" y2="206.2" gradientTransform="rotate(.02 114.612 114.572)" gradientUnits="userSpaceOnUse">                              <stop offset="0" stop-color="#fff"></stop>                              <stop offset="1" stop-color="#2483c5" stop-opacity="0"></stop>                            </linearGradient>                            <radialGradient id="radial-gradient" cx="72.1" cy="64.1" r="53" gradientTransform="rotate(.02 114.612 114.572)" xlink:href="#linear-gradient"></radialGradient>                          </defs>                          <g class="ball">                            <g id="Laag_1" data-name="Laag 1">                              <path d="M206.2 102.2a103 103 0 0 1-104 104C46.2 205.7.5 160 0 104A103 103 0 0 1 104 0c56 .5 101.7 46.3 102.2 102.2z" class="ballcolor'+cnt+'"></path>                              <path d="M206.2 102.2a103 103 0 0 1-104 104C46.2 205.7.5 160 0 104A103 103 0 0 1 104 0c56 .5 101.7 46.3 102.2 102.2z" class="cls-3"></path>                              <path d="M175.3 102.5A72.2 72.2 0 1 1 103.7 31a72.2 72.2 0 0 1 71.6 71.5z" class="cls-4"></path>                              <path d="M169 102.5A66 66 0 1 1 103.8 37a66 66 0 0 1 65.4 65.5z" class="cls-5"></path>                              <path d="M125 63.6A53 53 0 1 1 72.7 11 53 53 0 0 1 125 63.7z" class="cls-6"></path>                            </g>                          </g></div>';
            $('#rolling_ball').append(bingoballHTML);

            $("#counter_ball_"  + counter_ball).addClass('green');
            $('.ball_num'+cnt).html(counter_ball);

            if(array90.length == 0){
                clearInterval(stopCounter);
                $('#btn_tick').removeAttr('disabled');
                return;
            }
            var colors=["blue","orange","red","green","yellow","pink","aqua","lime","purple",
                        "cyan","brown","grey","darkred","deeppink","gold","indigo"];
     
            jQuery('svg .ballcolor'+cnt).css('fill',colors[~~(Math.random()*colors.length)]);

            animate(cnt);

            bingo90.patternWinner(counter_ball);

            $("#counter_ball").html(cnt);
            if(cnt > 4){
                jQuery('#rolling_ball > div:first-of-type').remove();
            }

            //winner
            if(!winnerLine1Shown){
                if (bingo90.winnerLine1 == 1 || bingo90.winnerLine2 == 1 || bingo90.winnerLine3 == 1){
                    console.log("Hurray! We have a 1 line winner!");
                    //$('#modalWinnerLine1').modal('show');
                    alert('Hurray! We have a 1 line winner!');
                    //return;
                    winnerLine1Shown = 1;
                }
            }
            if(!winnerLine2Shown){
                if (bingo90.winnerLine2 == 1){
                    console.log("Hurray! We have a 2 lines winner!");
                    //$('#modalWinnerLine2').modal('show');
                    alert('Hurray! We have a 2 lines winner!');
                    winnerLine2Shown = 1;
                }
            }
            if(!this.winnerLine3Shown){
                if (bingo90.winnerLine3 == 1){
                    console.log("Yay..! We have a full house winner");
                    $('#modalWinnerLine3').modal('show');
                    //return;
                    clearInterval(stopCounter);
                }
            }
            //winner end

         }, 2500);*/
        var cnt = 0;
        socket.emit('game counter', bingo90);
        socket.on('show counter ball', function(data){ 
            console.log(data, Object.keys(data.card_name).length, 'show counter ball');
            for(key in data.card_name){
                    if(data.card_name[key] == 'matched'){
                        document.getElementById(key).className ='matched-cell';
                    }
                }
             cnt++;
            var bingoballHTML = '<div class="bingoball'+cnt+'"><h3 class="ball_num'+cnt+'"></h3>                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 206.2 206.2">                          <defs>                            <style>                              .ball{isolation:isolate;}.ballcolor{fill:grey;}.cls-3{opacity:0.48;fill:url(#linear-gradient);}.cls-3,.cls-6{mix-blend-mode:screen;}.cls-4{fill:none;stroke:#fff;stroke-miterlimit:10;stroke-width:4px;}.cls-5{fill:#fff;opacity:0.8;}.cls-6{fill:url(#radial-gradient);}                            </style>                            <linearGradient id="linear-gradient" x1="103.1" x2="103.1" y2="206.2" gradientTransform="rotate(.02 114.612 114.572)" gradientUnits="userSpaceOnUse">                              <stop offset="0" stop-color="#fff"></stop>                              <stop offset="1" stop-color="#2483c5" stop-opacity="0"></stop>                            </linearGradient>                            <radialGradient id="radial-gradient" cx="72.1" cy="64.1" r="53" gradientTransform="rotate(.02 114.612 114.572)" xlink:href="#linear-gradient"></radialGradient>                          </defs>                          <g class="ball">                            <g id="Laag_1" data-name="Laag 1">                              <path d="M206.2 102.2a103 103 0 0 1-104 104C46.2 205.7.5 160 0 104A103 103 0 0 1 104 0c56 .5 101.7 46.3 102.2 102.2z" class="ballcolor'+cnt+'"></path>                              <path d="M206.2 102.2a103 103 0 0 1-104 104C46.2 205.7.5 160 0 104A103 103 0 0 1 104 0c56 .5 101.7 46.3 102.2 102.2z" class="cls-3"></path>                              <path d="M175.3 102.5A72.2 72.2 0 1 1 103.7 31a72.2 72.2 0 0 1 71.6 71.5z" class="cls-4"></path>                              <path d="M169 102.5A66 66 0 1 1 103.8 37a66 66 0 0 1 65.4 65.5z" class="cls-5"></path>                              <path d="M125 63.6A53 53 0 1 1 72.7 11 53 53 0 0 1 125 63.7z" class="cls-6"></path>                            </g>                          </g></div>';
            $('#rolling_ball').append(bingoballHTML);   
            $("#counter_ball_"  + data.counter_ball).addClass('green');
            $('.ball_num'+cnt).html(data.counter_ball);
            var colors=["blue","orange","red","green","yellow","pink","aqua","lime","purple","cyan","brown","grey","darkred","deeppink","gold","indigo"];
     
            jQuery('svg .ballcolor'+cnt).css('fill',colors[~~(Math.random()*colors.length)]);

            animate(cnt);
            //winner
            if(!winnerLine1Shown){
                if (data.winnerLine1 == 1 || data.winnerLine2 == 1 || data.winnerLine3 == 1){
                    console.log("Hurray! We have a 1 line winner!");
                    $('#modalWinnerLine1').modal('show');
                    //alert('Hurray! We have a 1 line winner!');
                    //return;
                    winnerLine1Shown = 1;
                    //data.winnerLine1Shown = 1;
                }
            }
            if(!winnerLine2Shown){
                if (data.winnerLine2 == 1){
                    console.log("Hurray! We have a 2 lines winner!");
                    $('#modalWinnerLine2').modal('show');
                    //alert('Hurray! We have a 2 lines winner!');
                    winnerLine2Shown = 1;
                    //data.winnerLine2Shown = 1;
                }
            }
            if(!winnerLine3Shown){
                if (data.winnerLine3 == 1){
                    console.log("Yay..! We have a full house winner");
                    $('#modalWinnerLine3').modal('show');
                    winnerLine3Shown = 1;
                    //data.winnerLine3Shown = 1;
                    //return;
                    //clearInterval(stopCounter);
                }
            }
            //socket.emit('game counter', bingo90);
        });
            //console.log(array75);
        function animate(cnt){
            
            var z = cnt - 1; //console.log(z);
            var y = cnt - 2;
            var x = cnt - 3;
            if(cnt == 1){
                $('.bingoball'+cnt).animate({left: '1050px',opacity:'1'}, 500, animate);
            } else if(cnt == 2) {
                $('.bingoball'+cnt).animate({left: '950px',opacity:'1'}, 500, animate);
            } else if(cnt == 3) {
                $('.bingoball'+cnt).animate({left: '850px',opacity:'1'}, 500, animate);
            } else {
                $('.bingoball'+cnt).animate({left: '650px',opacity:'1'}, 500, animate);
                
                //console.log(z);
                //$('.bingoball'+z).css('left:650px','-webkit-animation:inherit','animation:inherit', 'transition:inherit');
                $('.bingoball'+z).css('left','850px');
                $('.bingoball'+z).addClass('smallball');
                $('.bingoball'+y).css('left','950px');
                //$('.bingoball1').addClass('smallball');
                $('.bingoball'+x).css('left','1050px');
                //$('.bingoball2').addClass('smallball');
            }
        }
    <% } %>

console.log(bingo90.winnerLine1);

    //slider fo cards
    var divs = $('.table90-container').find('.card90');
    $(divs).each(function(i, e){
        if(i>5){
            $(this).hide();
        }
    })
    $('#book1, #book2, #book3, #book4, #book5, #book6').hide();
    <% if(Bingo.cards == 6){ %>
        $('#book1').show();
    <% } %>
    <% if(Bingo.cards == 12){ %>
        $('#book1, #book2').show();
    <% } %>
    <% if(Bingo.cards == 18){ %>
        $('#book1, #book2, #book3').show();
    <% } %>
    <% if(Bingo.cards == 24){ %>
        $('#book1, #book2, #book3, #book4').show();
    <% } %>
    <% if(Bingo.cards == 30){ %>
        $('#book1, #book2, #book3, #book4, #book5').show();
    <% } %>
    <% if(Bingo.cards == 36){ %>
        $('#book1, #book2, #book3, #book4, #book5, #book6').show();
    <% } %>
    $('#book1').on('click', function(){
        $('.table90-container .card90').hide();
        $('.table90-container .card-nm6 .card90').show();
    })
    $('#book2').on('click', function(){ //alert('ko');
        $('.table90-container .card90').hide();
        $('.table90-container .card-nm12 .card90').show();
    })
    $('#book3').on('click', function(){
        $('.table90-container .card90').hide(); 
        $('.table90-container .card-nm18 .card90').show();
    })
    $('#book4').on('click', function(){
        $('.table90-container .card90').hide(); 
        $('.table90-container .card-nm24 .card90').show();
    })
    $('#book5').on('click', function(){
        $('.table90-container .card90').hide(); 
        $('.table90-container .card-nm30 .card90').show();
    })
    $('#book6').on('click', function(){
        $('.table90-container .card90').hide(); 
        $('.table90-container .card-nm36 .card90').show();
    })
});
</script>

<div class="modal fade" id="modalWinnerLine1" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">One Line Winner!</h4>
      </div>
      <div class="modal-body">
        <p>Hurray! We have a 1 line winner!</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="modalWinnerLine2" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Two Lines Winner!</h4>
      </div>
      <div class="modal-body">
        <p>Hurray! We have a 2 lines winner!</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="modalWinnerLine3" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Full house Winner!</h4>
      </div>
      <div class="modal-body">
        <p>Hurray! We have full house winner!</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
